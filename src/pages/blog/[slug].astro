---
import { getEntry } from 'astro:content';
import PostLayout from '../../layouts/PostLayout.astro';

const { slug } = Astro.params;
const post = await getEntry('blog', slug);

if (!post) {
  throw new Error(`Post with slug "${slug}" not found`);
}
---
<PostLayout>
  <h1 class="text-3xl font-bold mb-4">{post.data.title}</h1>
  <time class="block mb-2 text-sm font-normal leading-none text-gray-400">
    {new Date(post.data.pubDate).toLocaleDateString('ja-JP', {
      year: 'numeric',
      month: 'long',
      day: 'numeric',
    })}
  </time>
  <div class="prose">
    <Markdown>{post.body}</Markdown>
  </div>
</PostLayout>
